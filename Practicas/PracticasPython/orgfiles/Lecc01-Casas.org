#+TITLE: Lección 01 - Precio de las viviendas
#+AUTHOR: Marcos Bujosa
#+LANGUAGE: es-es
# +STARTUP: show3levels
# +STARTUP: latexpreview

#+EXPORT_FILE_NAME: ../notebooks/Lecc01-Casas.ipynb

# +OPTIONS: toc:nil

#+ox-ipynb-keyword-metadata: key1 key2

#+BEGIN_EXPORT latex
\maketitle
#+END_EXPORT

# COMMENT +PROPERTY: header-args:jupyter-python :results replace raw :display text/latex 
# COMMENT +PROPERTY: header-args:jupyter-python :results raw :results replace :display text/latex 
# COMMENT +PROPERTY: header-args:jupyter-python :results replace drawer
#+PROPERTY: header-args:jupyter-python :results replace


/La siguiente celda es para instalar en [[https://mybinder.org/][mybinder]] los módulos necesarios para este ejemplo/

El módulo [[https://pandas.pydata.org/][pandas]] pandas es para leer los datos y [[https://matplotlib.org/][matplotlib]] para
realizar el gráfico.
#+BEGIN_SRC jupyter-python
%pip install pandas
%pip install matplotlib
#+END_SRC


*** Primer paso es cargar algunas librerías de Python
    :PROPERTIES:  
    :UNNUMBERED: t
    :END:  

Cargamos el módulo [[https://pandas.pydata.org/][pandas]]
#+BEGIN_SRC jupyter-python :results silent
import pandas as pd
#+END_SRC


*** Leemos el fichero de datos para generar un dataframe

Leamos el fichero de datos data3-1 del manual de Ramanathan
#+BEGIN_SRC jupyter-python :results silent
df = pd.read_csv('./datos/data3-1.csv', sep=",")
#+END_SRC

Visualicemos el dataframe
#+BEGIN_SRC jupyter-python :results silent
df
#+END_SRC


*** Scatter plot

Vamos a pintar un diagrama de dispersión para visualizar los datos
#+BEGIN_SRC jupyter-python  :results silent
ax1 = df.plot.scatter(x=1,
                      y=0,
                      c='DarkBlue')
#+END_SRC


* COMMENT Para exportar a ipynb                                 :noexports:

#+BEGIN_SRC emacs-lisp :exports none :results silent
(use-package ox-ipynb
  :load-path (lambda () (expand-file-name "ox-ipynb" scimax-dir)))
#+END_SRC

#+name: exporta
#+ox-ipynb-language: jupyter-python
#+BEGIN_SRC emacs-lisp :exports none :results silent
(setq  org-export-with-broken-links t)
(ox-ipynb-export-to-ipynb-file-and-open)
#+END_SRC
